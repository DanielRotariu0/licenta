{"ast":null,"code":"import { Company, Industry } from \"../models\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services\";\nconst _c0 = [\"paginator\"];\nexport let CompaniesComponent = /*#__PURE__*/(() => {\n  class CompaniesComponent {\n    constructor(databaseService) {\n      this.databaseService = databaseService;\n      this.totalElements = 0;\n      this.totalPages = 0;\n      this.maxCompanies = 5;\n      this.selectedIndustries = [];\n    }\n\n    ngOnInit() {\n      this.databaseService.getCompanies(0, this.maxCompanies).subscribe(companyQueryResponse => {\n        this.companies = this.toCompanyList(companyQueryResponse.companyList);\n        this.totalElements = companyQueryResponse.totalElements;\n        this.totalPages = companyQueryResponse.totalPages;\n        setTimeout(() => this.paginator.changePage(0));\n      });\n      this.databaseService.getIndustries().subscribe(industries => {\n        this.industries = industries;\n      });\n    }\n\n    onClickFilter() {\n      this.companies = [];\n      this.databaseService.getCompanies(0, this.maxCompanies, this.selectedIndustries).subscribe(companyQueryResponse => {\n        this.companies = this.toCompanyList(companyQueryResponse.companyList);\n        this.totalElements = companyQueryResponse.totalElements;\n        this.totalPages = companyQueryResponse.totalPages;\n      });\n    }\n\n    onPageChange(event) {\n      this.companies = [];\n      this.databaseService.getCompanies(event.page, this.maxCompanies, this.selectedIndustries).subscribe(companyQueryResponse => {\n        this.companies = this.toCompanyList(companyQueryResponse.companyList);\n      });\n    }\n\n    onClickClearFilters() {\n      this.selectedIndustries = [];\n      this.databaseService.getJobs(0, this.maxCompanies).subscribe(companyQueryResponse => {\n        this.companies = this.toCompanyList(companyQueryResponse.companyList);\n        this.totalElements = companyQueryResponse.totalElements;\n        this.totalPages = companyQueryResponse.totalPages;\n        setTimeout(() => this.paginator.changePage(0));\n      });\n    }\n\n    toCompanyList(companyResponseList) {\n      return companyResponseList.map(response => this.databaseService.toCompany(response));\n    }\n\n  }\n\n  CompaniesComponent.ɵfac = function CompaniesComponent_Factory(t) {\n    return new (t || CompaniesComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService));\n  };\n\n  CompaniesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompaniesComponent,\n    selectors: [[\"app-companies\"]],\n    viewQuery: function CompaniesComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 0,\n    template: function CompaniesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"companies works!\");\n        i0.ɵɵelementEnd();\n      }\n    }\n  });\n  return CompaniesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}